/* ====================================================================
   TAILWIND CSS IMPORTS
   ==================================================================== */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ====================================================================
   PAGE TRANSITION ANIMATIONS
   ==================================================================== */
.page-transition {
  opacity: 0;
  transition: opacity 0.6s ease-in-out; /* Smooth transition for entire layout including sidebar */
}

.page-transition.fade-in {
  opacity: 1;
}

/* ====================================================================
   CSS CUSTOM PROPERTIES
   ==================================================================== */
:root {
  /* Dynamic container width - updated by DynamicColumns component */
  --dynamic-container-width: 1200px;
}

/* ====================================================================
   BASE STYLES AND RESET
   ==================================================================== */
* {
  box-sizing: border-box;
  padding: 0;
  margin: 0;
}

html,
body {
  /* Natural viewport width - no horizontal scrolling at body level */
  width: 100vw; /* Full viewport width */
  max-width: none; /* Remove viewport constraint */
  overflow-x: hidden; /* Hide horizontal scrolling - layout handles it internally */
  overflow-y: hidden;
  font-family: Arial, sans-serif;
  font-weight: 300;
  font-size: 9.5pt;
  line-height: 1.4;
  color: #000;
  background: #fff;
}

/* Default behavior for other pages (excluding project-five) */
body:not(:has(.horizontal-page-container)):not(:has(.project-five-layout)) {
  overflow-x: hidden;
  overflow-y: auto;
}

/* Project Five specific body scrolling - restore original implementation */
html:has(.project-five-layout),
body:has(.project-five-layout) {
  width: 15751.1px !important; /* Original fixed width for horizontal scrolling */
  max-width: none !important; /* Remove viewport constraint */
  overflow-x: auto !important; /* Enable horizontal page scrolling like original */
  overflow-y: hidden !important;
}

/* Project Six - enable body-level horizontal scrollbar like Project Five */
html:has(.project-six-layout),
body:has(.project-six-layout) {
  width: 2000px !important; /* Reduced width for shorter scrollbar */
  max-width: none !important;
  overflow-x: auto !important; /* page-level scrollbar */
  overflow-y: hidden !important;
}

a {
  color: inherit;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
  text-underline-offset: 2pt;
}

/* ====================================================================
   LAYOUT SYSTEM
   ==================================================================== */
.layout {
  display: flex;
  position: relative; /* Enable absolute positioning for sidebar */
  height: calc(100vh - 55px); /* Window height minus 55px */
  max-height: calc(100vh - 55px); /* Constrain to window height minus 55px */
  overflow-x: auto; /* Enable horizontal scrolling at layout level */
  overflow-y: hidden; /* Disable vertical scrolling */
  width: fit-content; /* Width determined by content */
  min-width: 100vw; /* Ensure minimum full viewport width */
  box-sizing: border-box; /* Standard box model */
}

/* Project Five specific layout - restore original scrolling behavior */
.project-five-layout {
  width: 100%; /* Full width of body (which is 15751.1px) */
  min-width: 100%; /* Match body width */
  overflow-x: visible; /* Let body handle scrolling */
}

/* Project Six specific layout - contained scrolling within layout */
.project-six-layout {
  width: 100%; /* let body width define total scrollable width */
  min-width: 100%;
  height: auto; /* Allow content to define height */
  max-height: none; /* Remove layout cap to avoid clipping grid */
  overflow-x: visible; /* Let body provide the bottom scrollbar */
  overflow-y: hidden;
}

/* Project Six specific post container - enable absolute positioning for Instagram grid */
.project-six-layout .post {
  position: relative; /* Enable absolute positioning for children */
}

/* Project Six specific content area - constrain width to allow Instagram grid to float alongside */
.project-six-layout .post .content {
  width: 240px; /* Fixed width: 200px column + 40px gap */
  max-width: 240px; /* Ensure it doesn't expand */
  float: left;
  clear: none;
}

.sidebar {
  width: 230px;
  padding: 6.4rem 4rem 2rem 3.3rem;
  border-right: none;
  position: absolute; /* Position absolutely to overlay layout padding */
  left: 0; /* Align to left edge of layout */
  top: 0; /* Align to top edge of layout */
  height: 100%; /* Use full height of layout container */
  overflow-y: auto;
  z-index: 10;
  flex-shrink: 0;
}

.main-content {
  flex: 1;
  margin-left: 230px; /* Account for sidebar width */
  padding: 6.4rem 4rem 2rem 3.3rem; /* Match sidebar padding for consistency */
  opacity: 0;
  animation: fadeIn 1s ease-in-out forwards;
}

/* ====================================================================
   ABOUT & CONTACT PAGE SPECIFIC STYLES
   ==================================================================== */
/* About page - full width layout */
.about-page .main-content {
  padding-top: 40px; /* Custom top padding for about page */
  padding-right: 2rem; /* Reduced right padding for more width */
  width: calc(100vw - 230px - 3.3rem - 2rem);
  max-width: none;
  height: auto;
  min-height: calc(100vh - 55px);
}

/* About page home-header margin */
.about-page .home-header {
  margin-bottom: 40px; /* Custom bottom margin for about page header */
}

/* Contact page - reduced top padding */
.contact-page .main-content {
  padding-top: 40px; /* Custom top padding for contact page */
}

/* Contact page text styling */
.contact-page .page-content {
  font-family: helvetica, arial, sans-serif;
  font-size: 8pt;
  line-height: 16pt;
  color: #000000;
  padding-bottom: 16pt;
}

/* Ensure about and contact pages don't have horizontal scroll */
.about-page .layout,
.contact-page .layout {
  overflow-x: hidden;
}



@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

/* ====================================================================
   NAVIGATION STYLES
   ==================================================================== */
.nav-item {
  display: block;
  font-size: 9.5pt;
  font-weight: 300;
  line-height: 16pt;
  margin-bottom: 1px;
  cursor: pointer;
  transition: none;
  text-decoration: none;
  font-family: Arial, sans-serif;
}

.nav-item:hover {
  text-decoration: underline;
  text-underline-offset: 2pt;
  opacity: 1;
}

.nav-item.active {
  text-decoration: underline;
  text-decoration-color: #ccc;
  text-underline-offset: 2pt;
}

.works-submenu {
  margin-left: 8px;
  margin-top: 0;
  overflow: hidden;
  transition: max-height 0.3s ease-out, opacity 0.3s ease-out;
}

.works-submenu a {
  display: block;
  font-size: 9.5pt;
  font-weight: 300;
  line-height: 16pt;
  margin-bottom: 0;
  color: var(--wp--preset--color--black, #000);
  text-decoration: none;
  font-family: Arial, sans-serif;
}

.works-submenu a:hover {
  text-decoration: underline;
  text-underline-offset: 2pt;
}

/* ====================================================================
   PROJECT GRID COMPONENTS
   ==================================================================== */
.project-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1rem;
  margin-top: 2rem;
}

.project-item {
  display: block;
}

.project-item img {
  width: 100%;
  height: auto;
  display: block;
}

.project-title {
  font-size: 11pt;
  font-weight: 300;
  margin-top: 0.5rem;
  color: #666;
}

/* ====================================================================
   CONTENT AREAS AND TEXT STYLING
   ==================================================================== */
.content-area {
  max-width: 800px;
}

.text-content {
  font-size: 11pt;
  font-weight: 300;
  line-height: 1.6;
  color: #000;
}

.text-content p {
  margin-bottom: 1rem;
}

/* Page content styling to match navigation and home styling */
.page-content {
  font-size: 9.5pt;
  font-weight: 300;
  line-height: 16pt;
  color: #000;
  font-family: Arial, sans-serif;
}

.page-content p {
  margin-bottom: 16pt;
  line-height: 16pt;
}

.page-content p:last-child {
  margin-bottom: 0px;
}

.page-content a {
  border-bottom: 1px solid transparent;
  color: #000;
  text-decoration: none;
}

.page-content a:hover {
  border-bottom: 1px solid #000;
  text-decoration: none;
  text-underline-offset: 2pt;
}

/* ====================================================================
   HOME PAGE STYLES
   ==================================================================== */
.home-header {
  margin-bottom: 4rem;
}

.home-name {
  font-size: 9.5pt;
  font-weight: 300;
  letter-spacing: 0;
  margin: 0;
  color: #000;
  font-family: Arial, sans-serif;
}

.home-image-container {
  max-width: none;
  width: 100%;
  margin-bottom: 4rem;
}

.home-image {
  width: 100%;
  height: auto;
  max-width: 800px;
  display: block;
}

/* ====================================================================
   LAYOUT COMPONENTS
   ==================================================================== */

/* ====================================================================
   INSTAGRAM GRID SYSTEMS
   ==================================================================== */
.instagram-post,
.instagram-square,
.instagram-grid-item,
.project-six-grid-item {
  position: relative;
  aspect-ratio: 1;
  overflow: hidden;
  cursor: pointer;
  background: #f5f5f5;
  transition: transform 0.2s ease;
}

.instagram-image,
.instagram-grid-image,
.project-six-grid-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.2s ease;
}

.instagram-post:hover,
.instagram-grid-item:hover,
.project-six-grid-item:hover {
  transform: scale(1.02);
}

.instagram-post:hover .instagram-image,
.instagram-grid-item:hover .instagram-grid-image,
.project-six-grid-item:hover .project-six-grid-image {
  transform: scale(1.05);
}

.instagram-post-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  transition: opacity 0.2s ease;
  z-index: 1;
}

.instagram-post:hover .instagram-post-overlay,
.project-six-grid-item:hover .instagram-post-overlay {
  opacity: 1;
}

.overlay-content {
  color: white;
  text-align: center;
  font-weight: 500;
}

.post-number {
  font-size: 0.9rem;
  letter-spacing: 0.5px;
}

/* ====================================================================
   HORIZONTAL SCROLLING LAYOUTS
   ==================================================================== */
.horizontal-page-container {
  display: flex;
  min-height: 100vh;
  overflow-x: auto;
  overflow-y: hidden;
}

/* Create a wrapper for horizontal layout content */
.horizontal-content-wrapper {
  display: flex;
  margin-left: 40px; /* Much smaller margin to bring content closer to sidebar */
  min-height: 100vh;
}

/* Sidebar that scrolls with content - make entire sidebar scroll */
.horizontal-sidebar {
  width: 230px;
  min-width: 230px;
  flex-shrink: 0;
  height: 100vh;
  padding: 6.4rem 4rem 2rem 3.3rem;
  box-sizing: border-box;
}

/* Override the normal sidebar positioning when inside horizontal layout */
.horizontal-sidebar .sidebar {
  position: static !important;
  width: 100% !important;
  height: auto !important;
  padding: 0 !important;
  overflow-y: visible !important;
}



/* Thinner text column */
.horizontal-text-column {
  width: 280px;
  min-width: 280px;
  max-width: 280px;
  padding: 6.4rem 2rem 2rem 0.5rem; /* Minimal left padding */
  flex-shrink: 0;
  box-sizing: border-box;
}

/* Header positioning to match other pages */
.horizontal-text-column .home-header {
  margin-bottom: 4rem;
}

.horizontal-text-column .home-name {
  font-size: 9.5pt;
  font-weight: 300;
  letter-spacing: 0;
  margin: 0 0 1rem 0;
  color: #000;
  font-family: Arial, sans-serif;
  line-height: 1.4;
}

/* Text styling for horizontal text column */
.horizontal-text-column .page-content {
  color: #000;
  font-family: Arial, sans-serif;
  font-size: 9.5pt;
  line-height: 1.4;
  font-weight: 300;
  -webkit-text-size-adjust: none;
}

/* Enhanced paragraph styling */
.horizontal-text-column .page-content p {
  margin: 0 0 1rem 0;
  line-height: 1.4;
}

.horizontal-text-column .page-content p:last-child {
  margin-bottom: 0;
}

/* Grid container with proper square proportions */
.horizontal-grid-container {
  display: grid;
  grid-template-rows: repeat(3, 1fr);
  grid-auto-flow: column;
  gap: 2px;
  min-height: 100vh;
  padding: calc(6.4rem + 10px) 4rem calc(6.4rem + 10px) 4rem; /* Equal top and bottom margins with extra 10px */
  margin-top: 5px; /* Additional top margin for grid area */
  margin-bottom: 5px; /* Additional bottom margin for grid area */
  align-content: center;
}

/* Individual square posts */
.instagram-square {
  position: relative;
  width: calc((100vh - 12.8rem - 20px - 4px) / 3); /* Square based on available height minus equal top/bottom margins plus 20px total */
  height: calc((100vh - 12.8rem - 20px - 4px) / 3);
  overflow: hidden;
  cursor: pointer;
  background: #f5f5f5;
}

/* Hide default scrollbars for the horizontal layout */
.horizontal-page-container::-webkit-scrollbar {
  display: none;
}

.horizontal-page-container {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

/* Ensure body scrolls horizontally for this page */
body:has(.horizontal-page-container) {
  overflow-x: auto;
  overflow-y: hidden;
}

/* ====================================================================
   MODAL SYSTEM
   ==================================================================== */
.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.9);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  padding: 2rem;
}

.modal-content {
  background: white;
  border-radius: 8px;
  max-width: 90vw;
  max-height: 90vh;
  position: relative;
  overflow: hidden;
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);
}

.modal-close {
  position: absolute;
  top: 1rem;
  right: 1rem;
  background: rgba(0, 0, 0, 0.7);
  color: white;
  border: none;
  border-radius: 50%;
  width: 2.5rem;
  height: 2.5rem;
  font-size: 1.5rem;
  cursor: pointer;
  z-index: 1001;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background 0.2s ease;
}

.modal-close:hover {
  background: rgba(0, 0, 0, 0.9);
}

.modal-image-container {
  position: relative;
  max-width: 600px;
  max-height: 600px;
}

.modal-image {
  width: 100%;
  height: auto;
  display: block;
}

.modal-info {
  padding: 1.5rem;
  text-align: center;
}

.modal-info h3 {
  font-size: 1.2rem;
  margin-bottom: 0.5rem;
  font-weight: 500;
}

.modal-info p {
  color: #666;
  font-size: 0.9rem;
}

/* ====================================================================
   RESPONSIVE DESIGN
   ==================================================================== */
@media (max-width: 1024px) {
  .horizontal-content-wrapper { margin-left: 200px; }
  .horizontal-sidebar { width: 190px; }
  .horizontal-text-column { 
    width: 250px; 
    min-width: 250px; 
    max-width: 250px; 
    padding: 2rem 1.5rem; 
  }
  .horizontal-grid-container { padding: 2rem 1rem; }
  .instagram-square {
    width: calc((100vh - 4rem - 4px) / 3);
    height: calc((100vh - 4rem - 4px) / 3);
  }
}

@media (max-width: 768px) {
  .sidebar {
    width: 100%;
    position: relative;
    height: auto;
    border-right: none;
    border-bottom: 1px solid #eee;
    padding: 1rem;
    z-index: 100;
  }
  
  .layout { flex-direction: column; }
  .horizontal-sidebar { width: 170px; }
  .horizontal-content-wrapper { 
    margin-left: 180px; 
    flex-direction: column; 
  }
  .horizontal-text-column { 
    width: 100%; 
    min-width: 100%; 
    padding: 1rem; 
  }
  .horizontal-grid-container { 
    padding: 1rem; 
    gap: 1px; 
  }
  .instagram-square {
    width: calc((100vh - 2rem - 2px) / 3);
    height: calc((100vh - 2rem - 2px) / 3);
  }
}

@media (max-width: 480px) {
  .overlay-content { font-size: 0.8rem; }
  .modal-overlay { padding: 1rem; }
  .modal-content { 
    max-width: 95vw; 
    max-height: 95vh; 
  }
  .modal-close { 
    width: 2rem; 
    height: 2rem; 
    font-size: 1.2rem; 
    top: 0.5rem; 
    right: 0.5rem; 
  }
  .modal-image-container { 
    max-width: 100%; 
    max-height: 400px; 
  }
  .modal-info { padding: 1rem; }
  .modal-info h3 { font-size: 1rem; }
  .modal-info p { font-size: 0.8rem; }
}

#container {
  /* Container positioned using padding within layout space - matching reference */
  padding: 40px 40px 90px 280px; /* top right bottom left - increased bottom padding by 50px total */
  
  /* Dynamic container width based on number of columns */
  position: static; /* Normal flow within layout */
  width: var(--dynamic-container-width, 1200px); /* Dynamic width, fallback to reasonable default */
  height: auto; /* Auto height for floating content */
  min-height: 100vh; /* Minimum full viewport height */
  
  overflow: visible; /* Let page handle scrolling */
  background: #fff;
  color: #000;
  font-family: helvetica, arial, sans-serif;
  font-size: 8pt;
  line-height: 16pt;
  opacity: 1;
  box-sizing: border-box; /* Include padding in calculations */
  
  /* Force content to wrap within available space */
  word-wrap: break-word;
  overflow-wrap: break-word;
}

/* Container content constraints */
#container * {
  max-width: 100%;
  box-sizing: border-box;
  word-wrap: break-word;
  overflow-wrap: break-word;
}

#container img,
#container video,
#container iframe,
#container canvas,
#container svg {
  max-width: 100% !important;
  height: auto;
  object-fit: contain;
}

/* ====================================================================
   PROJECT-SPECIFIC STYLES
   ==================================================================== */

/* Project Six specific container - calculated for grid layout */
#container.project-six-container {
  /* Override base container width for horizontal scrolling */
  /* Width = content (240px) + gap (40px) + full Instagram grid (10 columns + 9 gaps) */
  width: calc(240px + 40px + calc(10 * var(--ig-cell)) + calc(9 * var(--ig-gap)));
  min-width: calc(240px + 40px + calc(10 * var(--ig-cell)) + calc(9 * var(--ig-gap)));
  max-width: none; /* Allow extension beyond container for scrolling */
  
  /* Still constrained by container height */
  height: 100%; /* Use all available height within container */
  max-height: 100%; /* Cannot exceed container available space */
  overflow: visible; /* Content extends for layout-level scrolling */
  box-sizing: border-box; /* Include any padding/borders in calculations */
}

/* Override general container rules for project-six to allow horizontal extension */
#container.project-six-container * {
  max-width: none; /* Allow horizontal extension for grid scrolling */
  max-height: 100%; /* Still constrain height to container */
}

/* Post container - regular block layout for content and images */
.post {
  position: static; /* Normal document flow like reference */
  /* Post fills the container's content area (inside padding) */
  height: calc(100vh - 130px); /* Container height minus top+bottom padding (40px + 90px) */
  min-height: calc(100vh - 130px); /* Consistent minimum height */
  width: 100%; /* Fill the container width (inside padding) */
  padding: 0; /* No padding - fit exactly inside container */
  margin: 0; /* No margin */
  box-sizing: border-box;
  overflow: visible; /* Allow content to be visible */
  display: block; /* Regular block layout */
}

/* Post content constraints */
.post * {
  box-sizing: border-box;
  word-wrap: break-word;
  overflow-wrap: break-word;
}

.post .ie {
  max-width: 100% !important;
  box-sizing: border-box !important;
  word-wrap: break-word !important;
  overflow-wrap: break-word !important;
}

/* Info section - spans full width including content + images area */
.post .info {
  width: 100%; /* Span full width of post container */
  max-width: none; /* Don't constrain width */
  height: calc(16pt + 1px + 2.75rem); /* Explicit height: line-height + top margin + bottom margin */
  min-height: calc(16pt + 1px + 2.75rem); /* Minimum height to contain title section and margins */
  box-sizing: border-box;
  margin: 0; /* Remove margins from info div */
  padding: 0; /* No padding on info container */
  clear: both; /* Ensure info is above any floating content */
  position: relative; /* Establish positioning context for content */
}

.post .info .title.section {
  font-size: 9.5pt;
  font-weight: 300;
  letter-spacing: 0;
  margin: 1px 0 2.75rem 0; /* Move the bottom margin from info to title-section */
  color: #000;
  font-family: Arial, sans-serif;
}

/* Future-proof extended section - empty but ready for content */
.post .info .extended-section {
  width: 100%; /* Inherit full width from parent info div */
  box-sizing: border-box; /* Consistent box model */
  /* Ready for future expansion - currently empty */
}



/* Content area: dynamic width float system */
.post .content {
  -webkit-text-size-adjust: none;
  color: #000;
  font-family: helvetica, arial, sans-serif;
  font-size: 8pt;
  line-height: 16pt;
  list-style: none;
  margin: 0;
  padding: 0;
  width: auto; /* Dynamic width based on columns */
  float: left;
  overflow: visible; /* Don't clip floating columns */
  min-height: 1px;
  box-sizing: border-box;
  overflow: visible; /* Allow content to wrap properly within bounds */
  clear: none; /* Don't clear floats - allow images to flow alongside */
}

/* First column - always present with combined classes */
.post .content .first.column.ie {
  width: 200px; /* Width matching reference */
  float: left; /* Float left as in reference */
  margin-right: 40px; /* Right margin as in reference */
  box-sizing: border-box;
  overflow: hidden; /* Hide overflow - this is KEY for height constraint */
  word-wrap: break-word; /* Force text wrapping */
  overflow-wrap: break-word; /* Modern word wrapping */
  max-width: 200px; /* Enforce width constraint */
  height: calc(100vh - 180pt); /* Fixed height based on viewport - this constrains the column */
  max-height: calc(100vh - 180pt); /* Same as height for strict constraint */
}

/* Second column - only created when text overflows first column */
.post .content .column.ie {
  width: 200px; /* Same width as first column */
  float: left; /* Float left as in reference */
  margin-right: 40px; /* Right margin as in reference */
  box-sizing: border-box;
  overflow: visible; /* Allow content to flow naturally */
  word-wrap: break-word; /* Force text wrapping */
  overflow-wrap: break-word; /* Modern word wrapping */
  max-width: 200px; /* Enforce width constraint */
  height: auto; /* Auto height for second column */
}

/* Text elements within columns */
.post .content .first.column.ie p, 
.post .content .first.column.ie li, 
.post .content .first.column.ie h1, 
.post .content .first.column.ie h2, 
.post .content .first.column.ie h3,
.post .content .first.column.ie h4, 
.post .content .first.column.ie h5, 
.post .content .first.column.ie h6, 
.post .content .first.column.ie figure, 
.post .content .first.column.ie div,
.post .content .column.ie p, 
.post .content .column.ie li, 
.post .content .column.ie h1, 
.post .content .column.ie h2, 
.post .content .column.ie h3,
.post .content .column.ie h4, 
.post .content .column.ie h5, 
.post .content .column.ie h6, 
.post .content .column.ie figure, 
.post .content .column.ie div {
  margin: 0 0 0.75rem 0;
  padding: 0;
  width: 100%;
  max-width: 100%; /* Ensure elements don't exceed column width */
  white-space: normal;
  word-wrap: break-word; /* Force text wrapping */
  overflow-wrap: break-word; /* Modern word wrapping */
  box-sizing: border-box;
}

/* Paragraph spacing within columns - 16pt bottom margin matching reference */
.post .content .first.column.ie p, 
.post .content .column.ie p { 
  margin-bottom: 16pt; 
  word-wrap: break-word;
  overflow-wrap: break-word;
  hyphens: auto;
}

/* Split class for paragraphs that span across columns */
.post .content .first.column.ie p.split,
.post .content .column.ie p.split {
  /* Split paragraphs - styling remains the same as regular paragraphs */
  /* The split is handled by content distribution, not CSS */
  margin-bottom: 0.75rem;
}

/* Clear floats after content columns */
.post .content::after {
  content: "";
  display: table;
  clear: both;
}

/* Images column container (sibling to .content) */
/* Images panel floats to the left AFTER the text column block, appearing to the right */
/* Images sit in right grid area, align top, horizontal row */
/* Primary images container: occupies right column across both grid rows */
.post .images-container {
  grid-area: images;
  grid-row: 1 / span 2; /* span info + content rows */
  height: 100%;
  max-height: 100%;
  overflow-x: auto; /* horizontal scroll if many images */
  overflow-y: hidden;
  box-sizing: border-box;
  /* Allow floating elements to flow naturally, no flex layout */
}

.post .images-container .imageElement.ie, .post .images-container .imageElement {
  float: left;
  margin-right: 40px;
  margin-top: 0;
  width: 573.244px; /* Match reference width */
  clear: none;
}

.post .images-container img {
  max-height: 100%;
  width: 100%;
  object-fit: cover;
}

/* Direct imageElement children should float horizontally */
.post > .imageElement, .post > .imageElement.ie {
  float: left; /* Float left to position horizontally */
  clear: none; /* Allow horizontal flow */
  margin-right: 40px; /* Right margin between images - matching reference */
  margin-left: 0;
  margin-top: 0;
  margin-bottom: 0;
}

.post .content .first.column.ie p:first-child {
  margin-top: 0;
}

/* Content area styling */
.post .content {
  float: left; /* Float content to the left */
  overflow: visible; /* Don't clip floating columns */
  min-height: 1px; /* Ensure content area has minimum height */
}

/* Ensure columns float left within content area */
.post .content .column {
  float: left;
  margin-right: 40px; /* Gap between columns */
}

.post .content .column:last-child {
  margin-right: 0; /* No margin on last column */
}

/* Ensure all column elements have consistent spacing */
.post .content .first.column.ie,
.post .content .column.ie {
  margin-right: 40px !important;
}



/* Image elements styling - float horizontally like reference */
.imageElement.ie {
  float: left; /* Float left to flow horizontally */
  clear: none; /* Allow horizontal flow */
  margin-right: 40px; /* Right margin between images - matching reference */
  margin-left: 0;
  margin-top: 0 !important; /* No top margin - start at top of content div */
  margin-bottom: 0;
  width: 573.244px; /* Width matching reference */
  max-width: 573.244px; /* Consistent sizing */
  box-sizing: border-box !important;
}

.imageElement.ie .wp-caption {
  display: block;
  height: 468px; /* Height matching reference */
  width: 573.244px; /* Width matching reference */
  max-width: 100%; /* Fit within imageElement width */
  overflow: hidden; /* Crop images to fit */
  box-sizing: border-box;
  margin: 0 !important; /* No margin - start at top of imageElement */
  padding: 0 !important; /* No padding - start at top of imageElement */
  position: relative;
  top: 0;
}

.imageElement.ie img {
  height: 468px !important; /* Match wp-caption height exactly */
  width: 573.244px !important; /* Match wp-caption width exactly */
  max-width: none; /* Allow exact sizing */
  min-width: 100%; /* Fill the caption container width */
  display: block;
  object-fit: cover; /* Crop to fill container while maintaining aspect ratio */
  object-position: top; /* Align image to top of container */
  box-sizing: border-box !important;
  margin: 0 !important; /* No margin - start at top of wp-caption */
  padding: 0 !important; /* No padding - start at top of wp-caption */
  position: relative;
  top: 0;
  left: 0;
}

/* Tracer element from reference */
.tracer {
  display: block;
  width: 100%;
  height: 1px;
  clear: both;
}

/* Clear floats after content */
.clear {
  clear: both;
}

/* Project Six Instagram Grid - horizontal flow fitting content height */
.project-six-grid-container {
  display: grid;
  grid-template-rows: repeat(3, 1fr);
  grid-auto-flow: column;
  grid-auto-columns: 248px;
  gap: 2px;
  height: 750px; /* Increased height but still within 850px post div */
  float: left;
  margin-right: 40px;
  margin-top: 0;
  margin-bottom: 0;
  overflow-x: visible;
}

/* Project Six specific grid styling */
.project-six-grid-item {
  width: 248px;
  height: 248px;
}

/* Instagram Grid that spans full post height */
.instagram-grid-full-height {
  position: absolute; /* Use absolute positioning to avoid float clearing issues */
  left: calc(240px + 40px); /* Content width + gap; container padding already offsets from sidebar */
  top: calc(16pt + 1px + 2.75rem); /* Position below info section */
  display: grid;
  /* Exact height: post height (100vh - 130px) minus info height */
  --ig-gap: 4px;
  --ig-height: calc(calc(100vh - 130px) - calc(16pt + 1px + 2.75rem));
  --ig-usable: calc(var(--ig-height) - (2 * var(--ig-gap))); /* 3 rows need 2 gaps */
  --ig-cell: calc(var(--ig-usable) / 3);
  height: var(--ig-height);
  grid-template-rows: repeat(3, var(--ig-cell));
  grid-auto-flow: column;
  grid-auto-columns: var(--ig-cell);
  gap: var(--ig-gap);
  width: max-content; /* content defines width; horizontal overflow shows bottom scrollbar */
  min-height: 0;
  box-sizing: border-box;
  padding: 0; /* No padding - clean Instagram look */
  background: none; /* No background */
  overflow-x: hidden; /* No inner scrollbar; use bottom scrollbar */
  overflow-y: hidden;
  z-index: 1; /* Ensure it's above other content */
}

.instagram-grid-item-full {
  position: relative;
  overflow: hidden;
  cursor: pointer;
  transition: transform 0.1s ease-out;
  /* Clean Instagram look - no borders, backgrounds, or shadows */
  background: none;
  border: none;
  border-radius: 0;
  /* Fill full grid cell for full clickable area */
  width: 100%;
  height: 100%;
  min-width: 0;
  min-height: 0;
  /* Ensure the image fills the square properly */
  display: flex;
  align-items: center;
  justify-content: center;
}

.instagram-grid-item-full:hover {
  transform: scale(1.02); /* Subtle hover effect like Instagram */
  z-index: 5;
}

.instagram-grid-item-full .instagram-grid-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center;
}

.instagram-grid-item-full .instagram-post-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.3); /* Lighter overlay like Instagram */
  opacity: 0;
  transition: opacity 0.2s ease-in-out;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 2;
}

.instagram-grid-item-full:hover .instagram-post-overlay {
  opacity: 1;
}

.instagram-grid-item-full .overlay-content {
  color: white;
  font-size: 12px;
  font-weight: 500;
  text-align: center;
}

.instagram-grid-item-full .post-number {
  background: rgba(255, 255, 255, 0.9);
  color: #000;
  padding: 4px 8px;
  border-radius: 3px;
  font-size: 12px;
  font-weight: 600;
}
